<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册</title>
    <link rel="stylesheet" href="./css/signUp.css">
    <script src="./js/jquery-3.7.1.min.js"></script>
    <script>
        $(document).ready(()=>{
            $(".signUp").click(()=>{
                const id = $(".id").val();
                const name = $(".name").val();
                const password = $(".password").val();
                $.ajax({
                    url:"http://www.dony.cn:5000/signUp", 
                    type:"post", 
                    data:{"id":id, "name":name, "password":password}, 
                    success:(result)=>{
                        console.log(result);
                        if(result=="1"){
                            alert("注册成功");
                            window.location.href = "/";
                        }
                        else{
                            alert("该账户已存在!\n请检查身份证号是否填写错误");
                        }
                    }, 
                    error:()=>{
                        alert("服务器后端炸了X_X\n请联系开发人员:(");
                    }
                });
            });
        });
    </script>
</head>
<body>
    <div class="header">
        <img src="./img/DONYLOGO.jpg" alt="dony">
    </div>
    <div class="container">
        <div class="card">
            <div class="card_body">
                <h1>注&nbsp;&nbsp;册</h1>
                <form action="/" method="post">
                    <label for="id">身份证号</label><br><br>
                    <input class="info id" type="text" placeholder="请输入身份证号">
                    <br><br>
                    <label for="name">姓名</label><br><br>
                    <input class="info name" type="text" placeholder="请输入姓名">
                    <br><br>
                    <label for="password">密码</label><br><br>
                    <input class="info password" type="password" placeholder="请输入密码">
                </form>
            </div>
        </div>
        <button class="signUp">注&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;册</button>
    </div>
</body>
</html>